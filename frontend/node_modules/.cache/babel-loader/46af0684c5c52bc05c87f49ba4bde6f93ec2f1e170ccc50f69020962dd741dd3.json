{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Grid,Card,CardContent,Typography,Box,CircularProgress,Alert}from'@mui/material';import{Layers,Assessment,History}from'@mui/icons-material';// Ícones\nimport axios from'axios';// Componente reutilizável para os cards de estatísticas\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StatCard=_ref=>{let{title,value,unit,icon,color,loading,error}=_ref;return/*#__PURE__*/_jsxs(Card,{elevation:4,sx:{display:'flex',alignItems:'center',p:2,borderRadius:'12px',height:'100%'},children:[/*#__PURE__*/_jsx(Box,{sx:{bgcolor:color,borderRadius:'50%',p:2,mr:2,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/React.cloneElement(icon,{sx:{color:'#fff',fontSize:'2rem'}})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",gutterBottom:true,children:title}),loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):error?/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"error\",children:error}):/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",component:\"p\",sx:{fontWeight:'bold'},children:[value,/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"span\",color:\"text.secondary\",sx:{ml:1},children:unit})]})]})]});};function Dashboard(){const[dashboardData,setDashboardData]=useState({totalResmasMes:0});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchDashboardData=useCallback(async()=>{setLoading(true);setError(null);try{// Faz a chamada para a rota correta e padronizada\nconst response=await axios.get('/api/relatorios/dashboard');setDashboardData(response.data);}catch(err){var _err$response,_err$response$data;console.error(\"Erro ao carregar dados do dashboard:\",err);const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Não foi possível carregar os dados.\";setError(errorMessage);}finally{setLoading(false);}},[]);useEffect(()=>{fetchDashboardData();},[fetchDashboardData]);return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,sx:{fontWeight:'bold',mb:4},children:\"Dashboard de Controle\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(StatCard,{title:\"Total Geral no M\\xEAs\",value:dashboardData.totalResmasMes,unit:\"resmas\",icon:/*#__PURE__*/_jsx(Layers,{}),color:\"#3f51b5\"// Azul primário\n,loading:loading,error:error// Passa o erro para o card\n})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(StatCard,{title:\"Total por Setor\",value:\"...\",unit:\"(em breve)\",icon:/*#__PURE__*/_jsx(Assessment,{}),color:\"#f57c00\"// Laranja\n,loading:true// Mantemos como loading para indicar que está em desenvolvimento\n})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(StatCard,{title:\"\\xDAltimos Lan\\xE7amentos\",value:\"...\",unit:\"(em breve)\",icon:/*#__PURE__*/_jsx(History,{}),color:\"#43a047\"// Verde\n,loading:true// Mantemos como loading para indicar que está em desenvolvimento\n})})]}),/*#__PURE__*/_jsxs(Box,{mt:5,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,sx:{fontWeight:'bold'},children:\"An\\xE1lise Detalhada\"}),/*#__PURE__*/_jsx(Card,{elevation:4,sx:{p:2,borderRadius:'12px'},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"(Gr\\xE1ficos e outras visualiza\\xE7\\xF5es de dados ser\\xE3o implementados aqui)\"})})})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Grid","Card","CardContent","Typography","Box","CircularProgress","Alert","Layers","Assessment","History","axios","jsx","_jsx","jsxs","_jsxs","StatCard","_ref","title","value","unit","icon","color","loading","error","elevation","sx","display","alignItems","p","borderRadius","height","children","bgcolor","mr","justifyContent","cloneElement","fontSize","variant","gutterBottom","size","component","fontWeight","ml","Dashboard","dashboardData","setDashboardData","totalResmasMes","setLoading","setError","fetchDashboardData","response","get","data","err","_err$response","_err$response$data","console","errorMessage","message","flexGrow","mb","container","spacing","item","xs","sm","md","mt"],"sources":["C:/Users/daniel.adm/Documents/PROJETO CONTROLE PAPEL/hmaa-papel/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Grid, Card, CardContent, Typography, Box, CircularProgress, Alert } from '@mui/material';\r\nimport { Layers, Assessment, History } from '@mui/icons-material'; // Ícones\r\nimport axios from 'axios';\r\n\r\n// Componente reutilizável para os cards de estatísticas\r\nconst StatCard = ({ title, value, unit, icon, color, loading, error }) => (\r\n  <Card elevation={4} sx={{ display: 'flex', alignItems: 'center', p: 2, borderRadius: '12px', height: '100%' }}>\r\n    <Box sx={{\r\n      bgcolor: color,\r\n      borderRadius: '50%',\r\n      p: 2,\r\n      mr: 2,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center'\r\n    }}>\r\n      {React.cloneElement(icon, { sx: { color: '#fff', fontSize: '2rem' } })}\r\n    </Box>\r\n    <Box>\r\n      <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n        {title}\r\n      </Typography>\r\n      {loading ? (\r\n        <CircularProgress size={24} />\r\n      ) : error ? (\r\n        <Typography variant=\"body1\" color=\"error\">{error}</Typography>\r\n      ) : (\r\n        <Typography variant=\"h4\" component=\"p\" sx={{ fontWeight: 'bold' }}>\r\n          {value}\r\n          <Typography variant=\"h6\" component=\"span\" color=\"text.secondary\" sx={{ ml: 1 }}>\r\n            {unit}\r\n          </Typography>\r\n        </Typography>\r\n      )}\r\n    </Box>\r\n  </Card>\r\n);\r\n\r\nfunction Dashboard() {\r\n  const [dashboardData, setDashboardData] = useState({ totalResmasMes: 0 });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchDashboardData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      // Faz a chamada para a rota correta e padronizada\r\n      const response = await axios.get('/api/relatorios/dashboard');\r\n      setDashboardData(response.data);\r\n    } catch (err) {\r\n      console.error(\"Erro ao carregar dados do dashboard:\", err);\r\n      const errorMessage = err.response?.data?.message || \"Não foi possível carregar os dados.\";\r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n  }, [fetchDashboardData]);\r\n\r\n  return (\r\n    <Box sx={{ flexGrow: 1, p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom sx={{ fontWeight: 'bold', mb: 4 }}>\r\n        Dashboard de Controle\r\n      </Typography>\r\n\r\n      <Grid container spacing={3}>\r\n        {/* Card de Total de Resmas */}\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <StatCard\r\n            title=\"Total Geral no Mês\"\r\n            value={dashboardData.totalResmasMes}\r\n            unit=\"resmas\"\r\n            icon={<Layers />}\r\n            color=\"#3f51b5\" // Azul primário\r\n            loading={loading}\r\n            error={error} // Passa o erro para o card\r\n          />\r\n        </Grid>\r\n\r\n        {/* Card de Total por Setor (Placeholder) */}\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <StatCard\r\n            title=\"Total por Setor\"\r\n            value=\"...\"\r\n            unit=\"(em breve)\"\r\n            icon={<Assessment />}\r\n            color=\"#f57c00\" // Laranja\r\n            loading={true} // Mantemos como loading para indicar que está em desenvolvimento\r\n          />\r\n        </Grid>\r\n\r\n        {/* Card de Últimos Lançamentos (Placeholder) */}\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <StatCard\r\n            title=\"Últimos Lançamentos\"\r\n            value=\"...\"\r\n            unit=\"(em breve)\"\r\n            icon={<History />}\r\n            color=\"#43a047\" // Verde\r\n            loading={true} // Mantemos como loading para indicar que está em desenvolvimento\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      \r\n      <Box mt={5}>\r\n         <Typography variant=\"h5\" gutterBottom sx={{ fontWeight: 'bold' }}>\r\n           Análise Detalhada\r\n         </Typography>\r\n         <Card elevation={4} sx={{ p: 2, borderRadius: '12px' }}>\r\n           <CardContent>\r\n             <Typography color=\"text.secondary\">\r\n               (Gráficos e outras visualizações de dados serão implementados aqui)\r\n             </Typography>\r\n           </CardContent>\r\n         </Card>\r\n      </Box>\r\n\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}