{"ast":null,"code":"import React from'react';import{Outlet,Link,useLocation}from'react-router-dom';import{AppBar,Toolbar,Typography,Box,Tabs,Tab,Button}from'@mui/material';// Função para pegar as iniciais do nome do usuário\nconst getInitials=function(){let name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return name.split(' ').map(n=>n[0]).join('').toUpperCase();};function Layout(){const location=useLocation();const[usuario,setUsuario]=useState(null);useEffect(()=>{// Pega os dados do usuário do localStorage quando o componente montar\nconst usuarioData=JSON.parse(localStorage.getItem('usuario'));if(usuarioData){setUsuario(usuarioData);}},[]);const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('usuario');window.location.href='/login';// Força o redirecionamento e recarregamento\n};return(/*#__PURE__*/// Box principal que ocupa a tela inteira e organiza em coluna\n_jsxs(Box,{sx:{display:'flex',flexDirection:'column',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{flexGrow:1},children:\"Controle de Papel HMAA\"}),usuario&&/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsxs(Typography,{sx:{mr:2},children:[\"Bem-vindo(a), \",usuario.nome]}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:handleLogout,children:\"Sair\"})]})]})}),/*#__PURE__*/_jsx(Box,{sx:{borderBottom:1,borderColor:'divider',bgcolor:'background.paper'},children:/*#__PURE__*/_jsxs(Tabs,{value:location.pathname,centered:true,children:[/*#__PURE__*/_jsx(Tab,{label:\"Dashboard\",value:\"/\",to:\"/\",component:Link}),/*#__PURE__*/_jsx(Tab,{label:\"Cadastrar Lan\\xE7amento\",value:\"/cadastrar\",to:\"/cadastrar\",component:Link}),/*#__PURE__*/_jsx(Tab,{label:\"Ver Lan\\xE7amentos\",value:\"/lancamentos\",to:\"/lancamentos\",component:Link,disabled:true}),/*#__PURE__*/_jsx(Tab,{label:\"Relat\\xF3rios\",value:\"/relatorios\",to:\"/relatorios\",component:Link,disabled:true}),(usuario===null||usuario===void 0?void 0:usuario.tipo)==='admin'&&/*#__PURE__*/_jsx(Tab,{label:\"Gerenciar Usu\\xE1rios\",value:\"/usuarios\",to:\"/usuarios\",component:Link})]})}),/*#__PURE__*/_jsxs(Box,{component:\"main\",sx:{flexGrow:1,// Permite que este elemento cresça\np:3,// Adiciona um padding interno\nbgcolor:'#f4f6f8'// Um fundo cinza claro para o conteúdo\n},children:[/*#__PURE__*/_jsx(Outlet,{}),\" \"]})]}));}// Você precisará adicionar estas importações se elas não existirem no seu Layout\nimport{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default Layout;","map":{"version":3,"names":["React","Outlet","Link","useLocation","AppBar","Toolbar","Typography","Box","Tabs","Tab","Button","getInitials","name","arguments","length","undefined","split","map","n","join","toUpperCase","Layout","location","usuario","setUsuario","useState","useEffect","usuarioData","JSON","parse","localStorage","getItem","handleLogout","removeItem","window","href","_jsxs","sx","display","flexDirection","minHeight","children","_jsx","position","variant","component","flexGrow","alignItems","mr","nome","color","onClick","borderBottom","borderColor","bgcolor","value","pathname","centered","label","to","disabled","tipo","p","jsx","jsxs"],"sources":["C:/Users/daniel.adm/Documents/PROJETO CONTROLE PAPEL/hmaa-papel/frontend/src/components/Layout.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Outlet, Link, useLocation } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Typography, Box, Tabs, Tab, Button } from '@mui/material';\r\n\r\n// Função para pegar as iniciais do nome do usuário\r\nconst getInitials = (name = '') => {\r\n  return name.split(' ').map(n => n[0]).join('').toUpperCase();\r\n};\r\n\r\nfunction Layout() {\r\n  const location = useLocation();\r\n  const [usuario, setUsuario] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Pega os dados do usuário do localStorage quando o componente montar\r\n    const usuarioData = JSON.parse(localStorage.getItem('usuario'));\r\n    if (usuarioData) {\r\n      setUsuario(usuarioData);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('usuario');\r\n    window.location.href = '/login'; // Força o redirecionamento e recarregamento\r\n  };\r\n\r\n  return (\r\n    // Box principal que ocupa a tela inteira e organiza em coluna\r\n    <Box sx={{ display: 'flex', flexDirection: 'column', minHeight: '100vh' }}>\r\n      \r\n      {/* 1. AppBar/Header */}\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n            Controle de Papel HMAA\r\n          </Typography>\r\n          {usuario && (\r\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n              <Typography sx={{ mr: 2 }}>\r\n                Bem-vindo(a), {usuario.nome}\r\n              </Typography>\r\n              <Button color=\"inherit\" onClick={handleLogout}>\r\n                Sair\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      {/* 2. Barra de Navegação */}\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider', bgcolor: 'background.paper' }}>\r\n        <Tabs value={location.pathname} centered>\r\n          <Tab label=\"Dashboard\" value=\"/\" to=\"/\" component={Link} />\r\n          <Tab label=\"Cadastrar Lançamento\" value=\"/cadastrar\" to=\"/cadastrar\" component={Link} />\r\n          <Tab label=\"Ver Lançamentos\" value=\"/lancamentos\" to=\"/lancamentos\" component={Link} disabled />\r\n          <Tab label=\"Relatórios\" value=\"/relatorios\" to=\"/relatorios\" component={Link} disabled />\r\n          {usuario?.tipo === 'admin' && (\r\n             <Tab label=\"Gerenciar Usuários\" value=\"/usuarios\" to=\"/usuarios\" component={Link} />\r\n          )}\r\n        </Tabs>\r\n      </Box>\r\n\r\n      {/* 3. Conteúdo Principal da Página */}\r\n      {/* Este 'Box' vai crescer para ocupar todo o espaço restante */}\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1, // Permite que este elemento cresça\r\n          p: 3,        // Adiciona um padding interno\r\n          bgcolor: '#f4f6f8' // Um fundo cinza claro para o conteúdo\r\n        }}\r\n      >\r\n        <Outlet /> {/* Aqui é onde o Dashboard, Cadastrar, etc., serão renderizados */}\r\n      </Box>\r\n\r\n    </Box>\r\n  );\r\n}\r\n\r\n// Você precisará adicionar estas importações se elas não existirem no seu Layout\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default Layout;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAC5D,OAASC,MAAM,CAAEC,OAAO,CAAEC,UAAU,CAAEC,GAAG,CAAEC,IAAI,CAAEC,GAAG,CAAEC,MAAM,KAAQ,eAAe,CAEnF;AACA,KAAM,CAAAC,WAAW,CAAG,QAAAA,CAAA,CAAe,IAAd,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC5B,MAAO,CAAAD,IAAI,CAACI,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAACC,WAAW,CAAC,CAAC,CAC9D,CAAC,CAED,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGC,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAC,WAAW,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,CAC/D,GAAIJ,WAAW,CAAE,CACfH,UAAU,CAACG,WAAW,CAAC,CACzB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,YAAY,CAAGA,CAAA,GAAM,CACzBF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC,CAChCH,YAAY,CAACG,UAAU,CAAC,SAAS,CAAC,CAClCC,MAAM,CAACZ,QAAQ,CAACa,IAAI,CAAG,QAAQ,CAAE;AACnC,CAAC,CAED,oBACE;AACAC,KAAA,CAAC7B,GAAG,EAAC8B,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,SAAS,CAAE,OAAQ,CAAE,CAAAC,QAAA,eAGxEC,IAAA,CAACtC,MAAM,EAACuC,QAAQ,CAAC,QAAQ,CAAAF,QAAA,cACvBL,KAAA,CAAC/B,OAAO,EAAAoC,QAAA,eACNC,IAAA,CAACpC,UAAU,EAACsC,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,KAAK,CAACR,EAAE,CAAE,CAAES,QAAQ,CAAE,CAAE,CAAE,CAAAL,QAAA,CAAC,wBAE9D,CAAY,CAAC,CACZlB,OAAO,eACNa,KAAA,CAAC7B,GAAG,EAAC8B,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAES,UAAU,CAAE,QAAS,CAAE,CAAAN,QAAA,eACjDL,KAAA,CAAC9B,UAAU,EAAC+B,EAAE,CAAE,CAAEW,EAAE,CAAE,CAAE,CAAE,CAAAP,QAAA,EAAC,gBACX,CAAClB,OAAO,CAAC0B,IAAI,EACjB,CAAC,cACbP,IAAA,CAAChC,MAAM,EAACwC,KAAK,CAAC,SAAS,CAACC,OAAO,CAAEnB,YAAa,CAAAS,QAAA,CAAC,MAE/C,CAAQ,CAAC,EACN,CACN,EACM,CAAC,CACJ,CAAC,cAGTC,IAAA,CAACnC,GAAG,EAAC8B,EAAE,CAAE,CAAEe,YAAY,CAAE,CAAC,CAAEC,WAAW,CAAE,SAAS,CAAEC,OAAO,CAAE,kBAAmB,CAAE,CAAAb,QAAA,cAChFL,KAAA,CAAC5B,IAAI,EAAC+C,KAAK,CAAEjC,QAAQ,CAACkC,QAAS,CAACC,QAAQ,MAAAhB,QAAA,eACtCC,IAAA,CAACjC,GAAG,EAACiD,KAAK,CAAC,WAAW,CAACH,KAAK,CAAC,GAAG,CAACI,EAAE,CAAC,GAAG,CAACd,SAAS,CAAE3C,IAAK,CAAE,CAAC,cAC3DwC,IAAA,CAACjC,GAAG,EAACiD,KAAK,CAAC,yBAAsB,CAACH,KAAK,CAAC,YAAY,CAACI,EAAE,CAAC,YAAY,CAACd,SAAS,CAAE3C,IAAK,CAAE,CAAC,cACxFwC,IAAA,CAACjC,GAAG,EAACiD,KAAK,CAAC,oBAAiB,CAACH,KAAK,CAAC,cAAc,CAACI,EAAE,CAAC,cAAc,CAACd,SAAS,CAAE3C,IAAK,CAAC0D,QAAQ,MAAE,CAAC,cAChGlB,IAAA,CAACjC,GAAG,EAACiD,KAAK,CAAC,eAAY,CAACH,KAAK,CAAC,aAAa,CAACI,EAAE,CAAC,aAAa,CAACd,SAAS,CAAE3C,IAAK,CAAC0D,QAAQ,MAAE,CAAC,CACxF,CAAArC,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEsC,IAAI,IAAK,OAAO,eACvBnB,IAAA,CAACjC,GAAG,EAACiD,KAAK,CAAC,uBAAoB,CAACH,KAAK,CAAC,WAAW,CAACI,EAAE,CAAC,WAAW,CAACd,SAAS,CAAE3C,IAAK,CAAE,CACrF,EACG,CAAC,CACJ,CAAC,cAINkC,KAAA,CAAC7B,GAAG,EACFsC,SAAS,CAAC,MAAM,CAChBR,EAAE,CAAE,CACFS,QAAQ,CAAE,CAAC,CAAE;AACbgB,CAAC,CAAE,CAAC,CAAS;AACbR,OAAO,CAAE,SAAU;AACrB,CAAE,CAAAb,QAAA,eAEFC,IAAA,CAACzC,MAAM,GAAE,CAAC,IAAC,EACR,CAAC,EAEH,CAAC,EAEV,CAEA;AACA,OAASwB,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAqC,GAAA,IAAArB,IAAA,CAAAsB,IAAA,IAAA5B,KAAA,yBAE5C,cAAe,CAAAf,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}