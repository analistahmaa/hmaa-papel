{"ast":null,"code":"import _objectSpread from\"C:/Users/daniel.adm/Documents/PROJETO CONTROLE PAPEL/hmaa-papel/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/Login.jsx\nimport React,{useState}from'react';import{Card,CardContent,CardHeader,TextField,Button,Box,CircularProgress,Alert}from'@mui/material';import{useAuth}from'../context/AuthContext';// <-- Usar o hook\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[formData,setFormData]=useState({usuario:'',senha:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const{login}=useAuth();// <-- Pegar a função de login do contexto\nconst handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{await login(formData);// <-- Chamar a função de login do contexto\n}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Erro ao tentar fazer login.');}finally{setLoading(false);}};// O JSX continua igual\nreturn/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'80vh'},children:/*#__PURE__*/_jsxs(Card,{elevation:4,sx:{width:'100%',maxWidth:'400px'},children:[/*#__PURE__*/_jsx(CardHeader,{title:\"Controle de Papel HMAA\",subheader:\"Acesse o sistema\",sx:{textAlign:'center'}}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"usuario\",label:\"Nome de Usu\\xE1rio\",name:\"usuario\",value:formData.usuario,onChange:handleChange,autoFocus:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"senha\",label:\"Senha\",type:\"password\",id:\"password\",value:formData.senha,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Entrar'})]})})]})});}export default Login;","map":{"version":3,"names":["React","useState","Card","CardContent","CardHeader","TextField","Button","Box","CircularProgress","Alert","useAuth","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","usuario","senha","loading","setLoading","error","setError","login","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","err","_err$response","_err$response$data","response","data","message","sx","display","justifyContent","alignItems","minHeight","children","elevation","width","maxWidth","title","subheader","textAlign","component","onSubmit","noValidate","severity","mb","margin","required","fullWidth","id","label","onChange","autoFocus","type","variant","mt","disabled","size"],"sources":["C:/Users/daniel.adm/Documents/PROJETO CONTROLE PAPEL/hmaa-papel/frontend/src/pages/Login.jsx"],"sourcesContent":["// frontend/src/pages/Login.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, TextField, Button, Box, CircularProgress, Alert } from '@mui/material';\r\nimport { useAuth } from '../context/AuthContext'; // <-- Usar o hook\r\n\r\nfunction Login() {\r\n  const [formData, setFormData] = useState({ usuario: '', senha: '' });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const { login } = useAuth(); // <-- Pegar a função de login do contexto\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      await login(formData); // <-- Chamar a função de login do contexto\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Erro ao tentar fazer login.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // O JSX continua igual\r\n  return (\r\n    <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '80vh' }}>\r\n      <Card elevation={4} sx={{ width: '100%', maxWidth: '400px' }}>\r\n        <CardHeader title=\"Controle de Papel HMAA\" subheader=\"Acesse o sistema\" sx={{ textAlign: 'center' }} />\r\n        <CardContent>\r\n          <Box component=\"form\" onSubmit={handleSubmit} noValidate>\r\n            {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n            <TextField margin=\"normal\" required fullWidth id=\"usuario\" label=\"Nome de Usuário\" name=\"usuario\" value={formData.usuario} onChange={handleChange} autoFocus/>\r\n            <TextField margin=\"normal\" required fullWidth name=\"senha\" label=\"Senha\" type=\"password\" id=\"password\" value={formData.senha} onChange={handleChange}/>\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }} disabled={loading}>\r\n              {loading ? <CircularProgress size={24} /> : 'Entrar'}\r\n            </Button>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"6JAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,CAAEC,UAAU,CAAEC,SAAS,CAAEC,MAAM,CAAEC,GAAG,CAAEC,gBAAgB,CAAEC,KAAK,KAAQ,eAAe,CAC9G,OAASC,OAAO,KAAQ,wBAAwB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,CAAEiB,OAAO,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAG,CAAC,CAAC,CACpE,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACqB,KAAK,CAAEC,QAAQ,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAEuB,KAAM,CAAC,CAAGd,OAAO,CAAC,CAAC,CAAE;AAE7B,KAAM,CAAAe,YAAY,CAAIC,CAAC,EAAK,CAC1BT,WAAW,CAAAU,aAAA,CAAAA,aAAA,IAAMX,QAAQ,MAAE,CAACU,CAAC,CAACE,MAAM,CAACC,IAAI,EAAGH,CAAC,CAACE,MAAM,CAACE,KAAK,EAAE,CAAC,CAC/D,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBX,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZ,GAAI,CACF,KAAM,CAAAC,KAAK,CAACR,QAAQ,CAAC,CAAE;AACzB,CAAE,MAAOiB,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZZ,QAAQ,CAAC,EAAAW,aAAA,CAAAD,GAAG,CAACG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcG,IAAI,UAAAF,kBAAA,iBAAlBA,kBAAA,CAAoBG,OAAO,GAAI,6BAA6B,CAAC,CACxE,CAAC,OAAS,CACRjB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA,mBACET,IAAA,CAACL,GAAG,EAACgC,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,cAC9F9B,KAAA,CAACZ,IAAI,EAAC2C,SAAS,CAAE,CAAE,CAACN,EAAE,CAAE,CAAEO,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAAH,QAAA,eAC3DhC,IAAA,CAACR,UAAU,EAAC4C,KAAK,CAAC,wBAAwB,CAACC,SAAS,CAAC,kBAAkB,CAACV,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAS,CAAE,CAAE,CAAC,cACvGtC,IAAA,CAACT,WAAW,EAAAyC,QAAA,cACV9B,KAAA,CAACP,GAAG,EAAC4C,SAAS,CAAC,MAAM,CAACC,QAAQ,CAAErB,YAAa,CAACsB,UAAU,MAAAT,QAAA,EACrDtB,KAAK,eAAIV,IAAA,CAACH,KAAK,EAAC6C,QAAQ,CAAC,OAAO,CAACf,EAAE,CAAE,CAAEgB,EAAE,CAAE,CAAE,CAAE,CAAAX,QAAA,CAAEtB,KAAK,CAAQ,CAAC,cAChEV,IAAA,CAACP,SAAS,EAACmD,MAAM,CAAC,QAAQ,CAACC,QAAQ,MAACC,SAAS,MAACC,EAAE,CAAC,SAAS,CAACC,KAAK,CAAC,oBAAiB,CAAC/B,IAAI,CAAC,SAAS,CAACC,KAAK,CAAEd,QAAQ,CAACE,OAAQ,CAAC2C,QAAQ,CAAEpC,YAAa,CAACqC,SAAS,MAAC,CAAC,cAC9JlD,IAAA,CAACP,SAAS,EAACmD,MAAM,CAAC,QAAQ,CAACC,QAAQ,MAACC,SAAS,MAAC7B,IAAI,CAAC,OAAO,CAAC+B,KAAK,CAAC,OAAO,CAACG,IAAI,CAAC,UAAU,CAACJ,EAAE,CAAC,UAAU,CAAC7B,KAAK,CAAEd,QAAQ,CAACG,KAAM,CAAC0C,QAAQ,CAAEpC,YAAa,CAAC,CAAC,cACvJb,IAAA,CAACN,MAAM,EAACyD,IAAI,CAAC,QAAQ,CAACL,SAAS,MAACM,OAAO,CAAC,WAAW,CAACzB,EAAE,CAAE,CAAE0B,EAAE,CAAE,CAAC,CAAEV,EAAE,CAAE,CAAE,CAAE,CAACW,QAAQ,CAAE9C,OAAQ,CAAAwB,QAAA,CACzFxB,OAAO,cAAGR,IAAA,CAACJ,gBAAgB,EAAC2D,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,QAAQ,CAC9C,CAAC,EACN,CAAC,CACK,CAAC,EACV,CAAC,CACJ,CAAC,CAEV,CAEA,cAAe,CAAApD,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}